// Ghastly.js - a lightweight jQuery modal
// Created by Kevin Bielawski
(function(e){function t(t){e(t).css("display","none");e("#modal-bg").fadeOut(200);setTimeout(function(){e("#modal-bg").remove()},200)}e.fn.modal=function(){var n=Math.floor(e("body").scrollTop());var r=e("<div id='modal-bg'></div>");e("body").append(r);e("#modal-bg").css({position:"fixed",background:"rgba(0,0,0,0.7)",top:0,left:0,height:"100%",width:"100%","z-index":1e3,opacity:0});e("#modal-bg").fadeTo(200,1);var i=e(this).attr("href");e(i).css({display:"block",position:"fixed",left:(e(window).width()-e(i).outerWidth())/2,top:(e(window).height()-e(i).outerHeight())/2,opacity:0,"z-index":2e3});e(i).fadeTo(200,1);e(window).scrollTop(n-(e(window).height()-e(i).outerHeight())/2+1);e("#modal-bg").click(function(){t(i)})};e("a[rel=modal]").click(function(){e(this).modal()});})(jQuery);
